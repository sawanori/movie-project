# movie-maker プロジェクト：総合計画書

---

## 1. プロジェクト概要

**プロジェクト名：** movie-maker

**コンセプト：** ユーザーがアップロードした画像とテキストプロンプトを基に、AI を活用して5秒間の縦型ショート動画を生成する Web アプリケーション。

**戦略的ポジショニング：** Sora 2 のような「汎用的な動画生成ツール」ではなく、特定のビジネス課題を解決する**「特化型ソリューションプラットフォーム」**として位置づける。

---

## 2. 技術スタック（確定版）

| カテゴリ | 選択サービス | 役割 |
| :--- | :--- | :--- |
| **フロントエンド** | Next.js + TypeScript + TailwindCSS | ユーザーインターフェースの構築 |
| **バックエンド** | FastAPI (Python) | ビジネスロジック、API 連携、後処理 |
| **データベース** | Supabase (無料プラン) | ユーザー情報、生成履歴、メタデータの管理 |
| **ストレージ** | Cloudflare R2 | アップロード画像、生成動画の保存・配信 |
| **決済** | Polar | サブスクリプション課金、税務処理の自動化 |
| **動画生成 AI** | KlingAI (トライアルプラン) | コアとなる動画生成エンジン |
| **プロンプト最適化** | OpenAI API (GPT-4) | ユーザープロンプトの自動拡張 |
| **動画後処理** | FFmpeg | テキスト挿入、BGM・ロゴの追加 |

---

## 3. 課金プランと差別化戦略

### 基本モデル
- **無料トライアル：** 7日間、3本まで無料生成
- **サブスクリプション：** 月額課金で、プランに応じた機能と生成本数を提供

### 各プランの詳細と「対 Sora 2」差別化機能

#### Starter プラン（$4.99/月、月間 5本）

**ターゲット：** 個人クリエイター、お試しユーザー

**含まれる機能：**
- テンプレートギャラリー（10～20種類の動画パターンから選択可能）
- 自動テキスト挿入（タイトル、キャッチコピー、CTA を自動で動画に追加）
- 生成履歴と再利用（過去のプロンプト設定をワンクリックで再生成）
- 基本的なプロンプト入力
- マイページでの動画管理（閲覧・ダウンロード）
- メールサポート

**Sora 2 との差別化：** 「選ぶだけで完成品」という簡潔さ。初心者でも高品質な動画を生成できる。

---

#### Pro プラン（$9.99/月、月間 15本）

**ターゲット：** 小規模ビジネス、定期的に動画を生成する必要があるユーザー

**含まれる機能：**
- Starter プランの全機能に加え：
- プロンプト自動最適化（Advanced）：OpenAI GPT-4 を使用して、ユーザーの簡単なプロンプトを複数の詳細なバリエーション（3～5パターン）に自動拡張
- スタイル・トーン制御：「シネマティック」「ポップ」「シリアス」「コミカル」など、複数のプリセットから選択可能
- 動画バリエーション生成：同じプロンプトで複数の動画バリエーション（3～5個）を自動生成し、A/B テストが可能
- BGM・効果音の自動選曲：動画の雰囲気に合わせて、著作権フリーの BGM と効果音を自動で選曲・挿入
- 高解像度動画（1080p）
- 優先メールサポート
- 動画の一括ダウンロード機能

**Sora 2 との差別化：** 「同じプロンプトで複数パターンを比較」という使い方が可能。ワークフロー効率化が実現される。

---

#### Business プラン（$24.99/月、月間 50本）

**ターゲット：** 中規模企業、大量の動画を定期的に生成する必要があるユーザー

**含まれる機能：**
- Pro プランの全機能に加え：
- バッチ生成・スケジューリング：複数の画像とプロンプトをまとめてアップロードし、一括で動画を生成。生成スケジュールを事前に設定し、指定した時間に自動生成
- 外部 API 連携（Shopify、WooCommerce）：EC プラットフォームと連携し、商品画像と説明文を自動取得。自動的に動画を生成し、商品ページに埋め込み
- パフォーマンス分析ダッシュボード：生成した動画がどの程度の視聴数・エンゲージメント・コンバージョンを得ているかを分析
- カスタムブランディング：ロゴ、ブランドカラー、フォント、ウォーターマークなどを登録すれば、すべての生成動画に自動で適用
- REST API アクセス：外部システムから movie-maker の動画生成機能を呼び出し可能
- 最高解像度動画（4K）
- 優先サポート（メール + チャット）
- 月 1 回の戦略コンサルティング（30分）

**Sora 2 との差別化：** 「ワークフロー統合」と「自動化」により、Sora 2 では実現不可能な大規模運用が可能。

---

## 4. 技術的実現可能性

**結論：すべての機能は技術的に実現可能。**

KlingAI API をコアエンジンとし、その前後で我々のバックエンドが付加価値を提供します。

### KlingAI API との連携方法

**KlingAI API の役割：** `Image-to-Video` エンドポイントを通じて、画像とプロンプトから動画を生成する。

**主要パラメータ：**
- `image_url`：ユーザーがアップロードした画像の URL（Cloudflare R2 に保存）
- `prompt`：ユーザーが入力したテキスト、または我々が自動生成したプロンプト
- `aspect_ratio`：`"9:16"` に固定（縦型動画）
- `duration`：`5` に固定（5秒動画）

### 実装アーキテクチャ

```
1. ユーザーが画像とプロンプトを入力
    ↓
2. バックエンドが画像を Cloudflare R2 に保存
    ↓
3. バックエンドが OpenAI API でプロンプトを最適化（Pro 以上）
    ↓
4. バックエンドが最適化されたプロンプトと画像 URL を KlingAI API に送信
    ↓
5. KlingAI が動画を生成し、Cloudflare R2 に保存
    ↓
6. バックエンドが生成された動画をダウンロードし、FFmpeg でテキスト・BGM・ロゴを追加
    ↓
7. 最終動画を Cloudflare R2 に保存してユーザーに提供
```

### 各機能の実現可能性

| 機能 | 実現方法 | 実現性 |
| :--- | :--- | :--- |
| **テンプレートギャラリー** | バックエンドで管理するプロンプトテンプレートを KlingAI API に渡す | **高い** |
| **自動テキスト挿入** | KlingAI 生成後、FFmpeg でテキストをオーバーレイ | **高い** |
| **プロンプト自動最適化** | OpenAI GPT-4 で拡張したプロンプトを KlingAI API に渡す | **高い** |
| **スタイル・トーン制御** | スタイルキーワードを `prompt` に自動追加 | **高い** |
| **動画バリエーション生成** | 同じ画像・プロンプトで KlingAI API を複数回呼び出す | **高い** |
| **BGM・効果音の自動選曲** | KlingAI 生成後、FFmpeg で音声トラックを結合 | **高い** |
| **バッチ生成・スケジューリング** | Celery でジョブキューを管理し順次実行 | **高い** |
| **外部 API 連携（Shopify）** | Shopify API から取得した画像・説明文を使用 | **高い** |
| **パフォーマンス分析** | YouTube Analytics などと連携 | **高い** |
| **カスタムブランディング** | KlingAI 生成後、FFmpeg でロゴをオーバーレイ | **高い** |
| **REST API アクセス** | FastAPI で KlingAI API をラップ | **高い** |

---

## 5. 開発ロードマップ（段階的実装）

### Phase 1：MVP (1～2ヶ月)

**目的：** コア価値の検証とユーザーフィードバック収集

**実装機能：**
- **Starter プラン**の全機能（テンプレート、テキスト挿入、履歴）
- **Pro プラン**の一部機能（プロンプト最適化、スタイル制御）
- **Business プラン**は提供なし（「お問い合わせ」対応）
- 基本的なユーザー認証と管理画面
- Polar との決済統合

**マイルストーン：** 初期ユーザー（100～500人）の獲得

---

### Phase 2：機能拡張 (3～4ヶ月)

**目的：** ユーザーの定着率向上と収益化の加速

**実装機能：**
- **Pro プラン**に動画バリエーション生成、BGM 機能を追加
- **Business プラン**の提供開始（バッチ生成、カスタムブランディング）
- パフォーマンス分析の初期版実装
- ユーザーサポート体制の強化

**マイルストーン：** Pro・Business プランへのアップグレード率が 20% 以上

---

### Phase 3：プラットフォーム化 (5～6ヶ月)

**目的：** ビジネス規模の拡大とエコシステム構築

**実装機能：**
- **Business プラン**に外部 API 連携（Shopify、WooCommerce）を追加
- パフォーマンス分析ダッシュボードの完全実装
- REST API の提供開始
- 優先サポート + コンサルティングの実装
- KlingAI の有料プランへのアップグレード検討

**マイルストーン：** 月間経常収益（MRR）が $10,000 以上

---

## 6. 月額コスト概算（MVP段階）

| 項目 | 月額コスト | 備考 |
| :--- | :--- | :--- |
| **Supabase (無料プラン)** | $0 | ユーザー数 50,000 まで無料 |
| **Cloudflare R2 (100GB保存、1TB配信)** | $1.50 | egress 料金が無料 |
| **KlingAI トライアルプラン** | $9.79 | 月間 17本の 5秒動画生成可能 |
| **OpenAI API (プロンプト最適化、月100回)** | $0.50 | GPT-4 mini 使用 |
| **合計 (固定費)** | **約 $11.79/月** | - |
| **Polar (決済手数料)** | 売上の 4% + 40¢ | 変動費（月額売上に応じて） |

**例：月額売上 $1,000 の場合**
- Polar 手数料：$40
- 固定費：$11.79
- 粗利益：$1,000 - $40 - $11.79 = **$948.21**

---

## 7. スケーリング戦略

### Phase 1 から Phase 2 への移行時

KlingAI トライアルプランの制限（月間 17本）に達した場合、KlingAI の有料プランへのアップグレードを検討します。

- **KlingAI パッケージ 3（$6,720）：** 月間 1,000 本以上の動画生成が可能
- **ユニット単価：** $6.72（トライアルプランの $0.576 から大幅に割安）

### Phase 3 での複数 AI の組み合わせ

ユーザーニーズに応じて、KlingAI に加えて Runway や Pika などの動画生成 AI を組み合わせることで、より多くのユースケースに対応可能にします。

---

## 8. 競争優位性の整理

| 要素 | Sora 2 | movie-maker |
| :--- | :--- | :--- |
| **動画品質** | 最高品質 | 高品質（十分） |
| **テンプレート** | なし | あり（Starter 以上） |
| **自動テキスト挿入** | なし | あり（Starter 以上） |
| **プロンプト最適化** | なし | あり（Pro 以上） |
| **複数バリエーション生成** | あり（毎回異なる） | あり（同じプロンプトで比較可能） |
| **BGM・効果音** | なし | あり（Pro 以上） |
| **バッチ生成** | なし | あり（Business） |
| **外部 API 連携** | なし | あり（Business） |
| **パフォーマンス分析** | なし | あり（Business） |
| **カスタムブランディング** | なし | あり（Business） |
| **REST API** | なし | あり（Business） |
| **月額料金** | 従量課金（高額） | $4.99～$24.99（低額） |

---

## 9. 次のステップ

この総合計画書に基づき、以下の具体的な開発フェーズに着手する準備が整いました：

1. **プロジェクトの初期セットアップ** - Web アプリケーションのスカフォルド作成
2. **データベーススキーマ設計** - Supabase でのテーブル設計
3. **API 設計書の作成** - バックエンド API のエンドポイント設計
4. **UI/UX デザイン提案** - フロントエンドのデザイン案
5. **KlingAI API 統合ガイド** - FastAPI での KlingAI 連携実装

---

**プロジェクト名：** movie-maker

**作成日：** 2025年12月21日

**ステータス：** 計画策定完了、開発準備段階
